<!doctype html><html lang=en-us><head><script type=application/ld+json>{"@context":"http://schema.org","@type":"Website","@id":"https:\/\/claudioessilva.eu","author":{"@type":"Person","name":"Cláudio Silva","image":"https://claudioessilva.eu/img/avatar.jpg"},"name":"Cláudio Silva\u0027s Blog","description":"Context I had a request to help with a database from a third-party vendor which uses a lot of FullText-Search (FTS) catalogs. I have to say that I just have played a handful of times with FTS, mostly in a didactic way, and not so much in the perspective of a production system and its maintenance.\nLong story short, this client had a couple of problems in the past with FTS.","url":"https:\/\/claudioessilva.eu\/2021\/12\/29\/A-big-SQLPackage-caveat\/","keywords":"[]"}</script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Hugo 0.101.0 with theme Tranquilpeak 0.5.3-BETA"><meta name=author content="Cláudio Silva"><meta name=keywords content><meta name=description content="Context I had a request to help with a database from a third-party vendor which uses a lot of FullText-Search (FTS) catalogs. I have to say that I just have played a handful of times with FTS, mostly in a didactic way, and not so much in the perspective of a production system and its maintenance.
Long story short, this client had a couple of problems in the past with FTS."><meta property="og:description" content="Context I had a request to help with a database from a third-party vendor which uses a lot of FullText-Search (FTS) catalogs. I have to say that I just have played a handful of times with FTS, mostly in a didactic way, and not so much in the perspective of a production system and its maintenance.
Long story short, this client had a couple of problems in the past with FTS."><meta property="og:type" content="article"><meta property="og:title" content="A (big) SQLPackage caveat"><meta name=twitter:title content="A (big) SQLPackage caveat"><meta property="og:url" content="https://claudioessilva.eu/2021/12/29/A-big-SQLPackage-caveat/"><meta property="twitter:url" content="https://claudioessilva.eu/2021/12/29/A-big-SQLPackage-caveat/"><meta property="og:site_name" content="Cláudio Silva's Blog"><meta property="og:description" content="Context I had a request to help with a database from a third-party vendor which uses a lot of FullText-Search (FTS) catalogs. I have to say that I just have played a handful of times with FTS, mostly in a didactic way, and not so much in the perspective of a production system and its maintenance.
Long story short, this client had a couple of problems in the past with FTS."><meta name=twitter:description content="Context I had a request to help with a database from a third-party vendor which uses a lot of FullText-Search (FTS) catalogs. I have to say that I just have played a handful of times with FTS, mostly in a didactic way, and not so much in the perspective of a production system and its maintenance.
Long story short, this client had a couple of problems in the past with FTS."><meta property="og:locale" content="en-us"><meta property="article:published_time" content="2021-12-29T00:00:00"><meta property="article:modified_time" content="2021-12-29T00:00:00"><meta property="article:tag" content="SQLServer"><meta property="article:tag" content="syndicated"><meta property="article:tag" content="DACPAC"><meta property="article:tag" content="IndexedViews"><meta property="article:tag" content="FullTextSearch"><meta property="article:tag" content="FTS"><meta property="article:tag" content="SQLPackage"><meta name=twitter:card content="summary"><meta name=twitter:site content="@claudioessilva"><meta name=twitter:creator content="@claudioessilva"><meta property="og:image" content="https://claudioessilva.eu/img/avatar.jpg"><meta property="twitter:image" content="https://claudioessilva.eu/img/avatar.jpg"><title>A (big) SQLPackage caveat</title><link rel=icon href=https://claudioessilva.eu/img/favicon.jpg><link rel=canonical href=https://claudioessilva.eu/2021/12/29/A-big-SQLPackage-caveat/><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css integrity="sha512-H9jrZiiopUdsLpg94A333EfumgUBpO9MdbxStdeITo+KEIMaNfHNvwyjjDJb+ERPaRS6DpyRlKbvPUasNItRyw==" crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://claudioessilva.eu/css/style-h6ccsoet3mzkbb0wngshlfbaweimexgqcxj0h5hu4h82olsdzz6wmqdkajm.min.css><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-27703765-1","auto"),ga("send","pageview"))</script></head><body><div id=blog><header id=header data-behavior=4><i id=btn-open-sidebar class="fa fa-lg fa-bars"></i><div class=header-title><a class=header-title-link href=/ aria-label="Go to homepage">Cláudio Silva's Blog</a></div><a class=header-right-picture href=/#about aria-label="Open the link: /#about"><img class=header-picture src=https://claudioessilva.eu/img/avatar.jpg alt="Author's picture"></a></header><nav id=sidebar data-behavior=4><div class=sidebar-container><div class=sidebar-profile><a href=/#about aria-label="Read more about the author"><img class=sidebar-profile-picture src=https://claudioessilva.eu/img/avatar.jpg alt="Author's picture"></a><h4 class=sidebar-profile-name>Cláudio Silva</h4><h5 class=sidebar-profile-bio>Data Platform Architect and PowerShell lover.</h5></div><ul class=sidebar-buttons><li class=sidebar-button><a class=sidebar-button-link href=/ title=Home><i class="sidebar-button-icon fas fa-lg fa-home" aria-hidden=true></i>
<span class=sidebar-button-desc>Home</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=/tags title=Tags><i class="sidebar-button-icon fas fa-lg fa-tags" aria-hidden=true></i>
<span class=sidebar-button-desc>Tags</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=/#about title=About><i class="sidebar-button-icon fas fa-lg fa-question" aria-hidden=true></i>
<span class=sidebar-button-desc>About</span></a></li></ul><ul class=sidebar-buttons><li class=sidebar-button><a class=sidebar-button-link href=https://github.com/claudioessilva target=_blank rel=noopener title=GitHub><i class="sidebar-button-icon fab fa-lg fa-github" aria-hidden=true></i>
<span class=sidebar-button-desc>GitHub</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=https://twitter.com/claudioessilva target=_blank rel=noopener title=Twitter><i class="sidebar-button-icon fab fa-lg fa-twitter" aria-hidden=true></i>
<span class=sidebar-button-desc>Twitter</span></a></li><li class=sidebar-button><a class=sidebar-button-link href=https://www.linkedin.com/in/claudioessilva target=_blank rel=noopener title=LinkedIn><i class="sidebar-button-icon fab fa-lg fa-linkedin" aria-hidden=true></i>
<span class=sidebar-button-desc>LinkedIn</span></a></li></ul><ul class=sidebar-buttons><li class=sidebar-button><a class=sidebar-button-link href=/index.xml title=RSS><i class="sidebar-button-icon fas fa-lg fa-rss" aria-hidden=true></i>
<span class=sidebar-button-desc>RSS</span></a></li></ul></div><div class=sidebar-container><div style=color:#ebebeb;font-size:25px;text-align:center>dbatools book</div><div style=color:#ebebeb;font-size:15px>Now available! Buy it at manning.com - 50% off with code bldbatools50</div><a href="https://www.manning.com/books/learn-dbatools-in-a-month-of-lunches?utm_source=claudioessilva&utm_medium=affiliate&utm_campaign=affiliate&a_aid=claudioessilva" target=_blank><center><img src=https://images.manning.com/264/352/resize/book/0/998b76f-982a-4661-a020-5d94909f7ea5/LeMaire-HI.png height=300></center></a></div></nav><div id=main data-behavior=4 class=hasCoverMetaIn><article class=post id=top><div class="post-header main-content-wrap text-left"><h1 class=post-title>A (big) SQLPackage caveat</h1><div class="postShorten-meta post-meta"><time datetime=2021-12-29T00:00:00Z>December 29, 2021</time></div></div><div class="post-content markdown"><div class=main-content-wrap><h2 id=context>Context</h2><p>I had a request to help with a database from a third-party vendor which uses a lot of <a href=https://docs.microsoft.com/en-us/sql/relational-databases/search/full-text-search>FullText-Search</a> (FTS) catalogs.
I have to say that I just have played a handful of times with FTS, mostly in a didactic way, and not so much in the perspective of a production system and its maintenance.</p><p>Long story short, this client had a couple of problems in the past with FTS. Sometimes it wasn&rsquo;t being populated as expected, other times it was giving errors that indicate the catalog has problems.</p><p>These problems seem to be possible to overcome with the rebuild (and sometimes doing a drop and re-creation) of the catalog.</p><p>Until the day that this wasn’t possible anymore. The last time they had the problem they requested help due to the following error message:</p><blockquote><p>Msg 9972, Level 16, State 105, Line 20<br>Database is not fully started up or it is not in an ONLINE state. Try the full-text DDL command again after database is started up and becomes ONLINE.</p></blockquote><p>This showed up when they were trying to do some maintenance like REBUILD a FTS index.</p><p>Turns out the database had corrupted metadata (confirmed by MS).</p><h3 id=but-there-is-more>But there is more</h3><p>When we opened the support case with Microsoft, after some months of back and forth emails and tests, they told us that not only the metadata was corrupted but they also mentioned the following message:</p><blockquote><p>Check Catalog Msg 3859, State 1: Warning: The system catalog was updated directly in database ID <em>x</em>, most recently at <em>datetime</em>.</p></blockquote><p>This message means that on that date there had been a manual action on some of the system tables of that database.
It might have no relation with the current issue we were facing, as it was from some years ago but it showcases that this database already encountered some important enough issues in the past to have had manual tempering.</p><h3 id=other-attempts>Other attempts</h3><p>Out of curiosity, you may be asking what else I tried in the meantime. Here is a NOT exhaustive list:</p><ul><li>Perform the actions with the database in single-user mode.</li><li>Perform the actions with DAC.</li><li>Perform the actions with SQL Server in single-user mode. (could do a couple of things but not solve the problem)</li></ul><h2 id=moving-onlets-solve-the-problem>Moving on&mldr;let&rsquo;s solve the problem</h2><p>The suggestion was to create a new and empty database and import all the data.
Together with the vendor, we decided to use the SqlPackage tool and generate a DACPAC with all the data and import it on a new empty database.</p><h2 id=testing-the-dacpac>Testing the DACPAC</h2><p>On a test instance, I restored a copy of the database and created a new one (empty, without any objects).
Then I downloaded and installed the <a href="https://docs.microsoft.com/en-us/sql/tools/sqlpackage/sqlpackage-download?view=sql-server-ver15">SqlPackage</a> tool.</p><h3 id=before-exporting-the-data>&ldquo;Before exporting the data&mldr;&rdquo;</h3><p>I decided to do a test to make sure that all objects (Stored Procedures, Views, Indexes, etc) would be created without any errors, for that I started by exporting only the schema:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>&amp;<span style=color:#e6db74>&#34;C:\Program Files\Microsoft SQL Server\150\DAC\bin\SqlPackage.exe&#34;</span> /action<span style=color:#960050;background-color:#1e0010>:</span>Extract /TargetFile<span style=color:#960050;background-color:#1e0010>:</span><span style=color:#e6db74>&#34;D:\temp\DatabaseName_SO.dacpac&#34;</span> /sourceDatabasename<span style=color:#960050;background-color:#1e0010>:</span><span style=color:#e6db74>&#34;DatabaseName&#34;</span> /sourceservername<span style=color:#960050;background-color:#1e0010>:</span><span style=color:#e6db74>&#34;SQLInstance&#34;</span>
</span></span></code></pre></div><p>Then, I have tested publishing it:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>&amp;<span style=color:#e6db74>&#34;C:\Program Files\Microsoft SQL Server\150\DAC\bin\SqlPackage.exe&#34;</span> /action<span style=color:#960050;background-color:#1e0010>:</span>Publish /SourceFile<span style=color:#960050;background-color:#1e0010>:</span><span style=color:#e6db74>&#34;D:\temp\DatabaseName_SO.dacpac&#34;</span> /TargetDatabaseName<span style=color:#960050;background-color:#1e0010>:</span><span style=color:#e6db74>&#34;DatabaseName_new&#34;</span> /TargetServerName<span style=color:#960050;background-color:#1e0010>:</span><span style=color:#e6db74>&#34;SQLInstance&#34;</span>
</span></span></code></pre></div><p>And&mldr; I got some errors like <code>operand type clash</code> which means that the datatypes used on some stored procedure parameters do not match the data type of the columns. This can happen (and it was the case) after the schema of a table changed but the stored procedure code was not updated to follow the changes.</p><p>After finding all occurrences I updated the stored procedures and did a new extract and published it. This time without any errors.</p><blockquote><p>NOTE:
I decided to not export the data at the same time as this was a database with ~300GB of data and that would make the export take much longer and if I needed to repeat it (has it happened), would take twice the time. To export just the schema it took around 15 minutes, your mileage may vary depending on how many objects you have on the database.</p></blockquote><h3 id=exporting-with-data>Exporting with data</h3><p>Now that I know the schema will compile without errors, let&rsquo;s extract the data too.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>&amp;<span style=color:#e6db74>&#34;C:\Program Files\Microsoft SQL Server\150\DAC\bin\SqlPackage.exe&#34;</span> /action<span style=color:#960050;background-color:#1e0010>:</span>Extract /TargetFile<span style=color:#960050;background-color:#1e0010>:</span><span style=color:#e6db74>&#34;D:\temp\DatabaseName_SD.dacpac&#34;</span> /sourceDatabasename<span style=color:#960050;background-color:#1e0010>:</span><span style=color:#e6db74>&#34;DatabaseName&#34;</span> /sourceservername<span style=color:#960050;background-color:#1e0010>:</span><span style=color:#e6db74>&#34;SQLInstance&#34;</span> /p:ExtractAllTableData=true
</span></span></code></pre></div><p>From the ~300GB of data, this ended in a ~30GB DACPAC file which, it&rsquo;s an impressive compression ratio, I might add! In terms of duration, it took ~4hours.</p><h3 id=importing-the-data>Importing the data</h3><p>Now that we have our 30GB DACPAC, we can import the data. For that we need to use the <code>Publish</code> action.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>&amp;<span style=color:#e6db74>&#34;C:\Program Files\Microsoft SQL Server\150\DAC\bin\SqlPackage.exe&#34;</span> /action<span style=color:#960050;background-color:#1e0010>:</span>Publish /SourceFile<span style=color:#960050;background-color:#1e0010>:</span><span style=color:#e6db74>&#34;D:\temp\DatabaseName_SD.dacpac&#34;</span> /sourceDatabasename<span style=color:#960050;background-color:#1e0010>:</span><span style=color:#e6db74>&#34;DatabaseName_new&#34;</span> /sourceservername<span style=color:#960050;background-color:#1e0010>:</span><span style=color:#e6db74>&#34;SQLInstance&#34;</span>
</span></span></code></pre></div><h2 id=the-caveat>The caveat</h2><p>Now we just need to wait for it&mldr;and wait, and wait and&mldr;after 23h (yes almost a day) it failed due T-Log full!</p><p>The publish action was already inserting data and has done it on multiple tables. I was following the process by running <code>sp_WhoIsActive</code> to check which instructions were running and found that for a specific table it was taking a huge amount of time (hours!!) but, why?!</p><p>I have taken the execution plan using <code>sp_WhoIsActive @get_plans = 1</code> and did an analysis where I saw multiple tables. After all, it was not a table but rather an <strong>indexed view</strong> that has multiple non-clustered indexes and uses multiple underlying tables.</p><h3 id=what-does-sqlpackage-do>What does SqlPackage do?</h3><p>SqlPackage does some interesting actions like disable constraints and re-enable afterwards, same for triggers and it also disables the non-clustered indexes of the tables so they can be rebuilt afterwards.</p><h3 id=what-doesnt-sqlpackage-do>What doesn’t SqlPackage do?</h3><p>I learned, the hard way, that SqlPackage doesn&rsquo;t disable the indexes of the indexed views!
For this scenario, it means that when we were inserting data on tables that are used on the indexed views, these need to be updated (materialized) and because we didn&rsquo;t have the NonClustered indexes enabled on the base tables this would take ages to finish!</p><p>The execution plan showed some HUGE index spool operators.</p><h2 id=my-approach>My approach</h2><p>Once I understood this was the problem and that SqlPackage won&rsquo;t interfere with the indexed views, I decided to reset the empty database, trigger the <code>Publish</code> again and as soon as the schema was created and the data started to be inserted I run the instructions to <code>DISABLE</code> the Clustered indexes (thus the indexed views) and the cool part is that the NonClustered indexes are disabled automatically.</p><p>You can generate the T-SQL instructions with some T-SQL code like:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> N<span style=color:#e6db74>&#39;ALTER INDEX &#39;</span> <span style=color:#f92672>+</span> quotename(i.name) <span style=color:#f92672>+</span> N<span style=color:#e6db74>&#39; ON &#39;</span> <span style=color:#f92672>+</span> quotename(s.name) <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;.&#39;</span> <span style=color:#f92672>+</span> quotename(o.name) <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39; DISABLE;&#39;</span> <span style=color:#f92672>+</span> CHAR(<span style=color:#ae81ff>13</span>) <span style=color:#f92672>+</span> CHAR(<span style=color:#ae81ff>10</span>) <span style=color:#f92672>+</span> <span style=color:#e6db74>&#39;GO&#39;</span> <span style=color:#f92672>+</span> CHAR(<span style=color:#ae81ff>13</span>) <span style=color:#f92672>+</span> CHAR(<span style=color:#ae81ff>10</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span> sys.indexes I
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>INNER</span> <span style=color:#66d9ef>JOIN</span> sys.objects O
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>INNER</span> <span style=color:#66d9ef>JOIN</span> sys.schemas s
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>ON</span> s.schema_id <span style=color:#f92672>=</span> o.schema_id
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>ON</span> I.object_id <span style=color:#f92672>=</span> O.object_id
</span></span><span style=display:flex><span><span style=color:#66d9ef>WHERE</span> i.type_desc <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;CLUSTERED&#39;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>AND</span> O.<span style=color:#66d9ef>type</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;V&#39;</span>
</span></span></code></pre></div><p>With this, the whole import was able to run in ~12h (!!) and the T-LOG was not even close to becoming full.</p><p>After this, I have rebuilt the clustered and nonclustered indexes of the indexed views. (you can adapt the previous block of code to generate the instructions)</p><p>Finally, the last step was to rebuild and populate the FTS catalogs.</p><h2 id=wrapping-up>Wrapping up</h2><p>Always try to have the vendor/dev aligned with you. This is a must-have especially when you don&rsquo;t know the database.
Just remember that sometimes it can be tempting to go with a default/well-known approach but because each database can be differemt, we can fall into some traps. Hence, test, test, test.</p><p>Do you know any other caveats like this one when working with DACPAC?
Feel free to leave a comment.</p><p>Thanks for reading!</p></div></div><div id=post-footer class="post-footer main-content-wrap"><div class=post-footer-tags><span class="text-color-light text-small">TAGGED IN</span><br><a class="tag tag--primary tag--small" href=/tags/SQLServer/>SQLServer</a>
<a class="tag tag--primary tag--small" href=/tags/syndicated/>syndicated</a>
<a class="tag tag--primary tag--small" href=/tags/DACPAC/>DACPAC</a>
<a class="tag tag--primary tag--small" href=/tags/IndexedViews/>IndexedViews</a>
<a class="tag tag--primary tag--small" href=/tags/FullTextSearch/>FullTextSearch</a>
<a class="tag tag--primary tag--small" href=/tags/FTS/>FTS</a>
<a class="tag tag--primary tag--small" href=/tags/SQLPackage/>SQLPackage</a></div><div class=post-actions-wrap><nav><ul class="post-actions post-action-nav"><li class=post-action><a class="post-action-btn btn btn--default tooltip--top" href=/2022/06/02/dbatools-Rich-Datatypes/ data-tooltip="dbatools - Rich Datatypes" aria-label="NEXT: dbatools - Rich Datatypes"><i class="fa fa-angle-left"></i>
<span class="hide-xs hide-sm text-small icon-ml">NEXT</span></a></li><li class=post-action><a class="post-action-btn btn btn--default tooltip--top" href=/2020/09/22/Recover-database-encrypted-modules-code-with-dbatools/ data-tooltip="Recover database encrypted modules code with dbatools" aria-label="PREVIOUS: Recover database encrypted modules code with dbatools"><span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
<i class="fa fa-angle-right"></i></a></li></ul></nav><ul class="post-actions post-action-share"><li class="post-action hide-lg hide-md hide-sm"><a class="post-action-btn btn btn--default btn-open-shareoptions" href=#btn-open-shareoptions aria-label="Share this post"><i class="fa fa-share-alt" aria-hidden=true></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target=new href="https://www.facebook.com/sharer/sharer.php?u=https://claudioessilva.eu/2021/12/29/A-big-SQLPackage-caveat/" title="Share on Facebook" aria-label="Share on Facebook"><i class="fab fa-facebook-square" aria-hidden=true></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target=new href="https://twitter.com/intent/tweet?text=https://claudioessilva.eu/2021/12/29/A-big-SQLPackage-caveat/" title="Share on Twitter" aria-label="Share on Twitter"><i class="fab fa-twitter" aria-hidden=true></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target=new href="https://www.linkedin.com/sharing/share-offsite/?url=https://claudioessilva.eu/2021/12/29/A-big-SQLPackage-caveat/" title="Share on Linkedin" aria-label="Share on Linkedin"><i class="fab fa-linkedin" aria-hidden=true></i></a></li><li class=post-action><a class="post-action-btn btn btn--default" href=#top aria-label="Back to top"><i class="fa fa-arrow-up" aria-hidden=true></i></a></li></ul></div><div class=comments><script src=https://utteranc.es/client.js repo=ClaudioESSilva/blog-comments issue-term=og:title theme=github-light crossorigin=anonymous async></script></div></div></article><footer id=footer class=main-content-wrap><span class=copyrights>&copy; 2022 Cláudio Silva. All Rights Reserved</span></footer></div><div id=bottom-bar class=post-bottom-bar data-behavior=4><div class=post-actions-wrap><nav><ul class="post-actions post-action-nav"><li class=post-action><a class="post-action-btn btn btn--default tooltip--top" href=/2022/06/02/dbatools-Rich-Datatypes/ data-tooltip="dbatools - Rich Datatypes" aria-label="NEXT: dbatools - Rich Datatypes"><i class="fa fa-angle-left"></i>
<span class="hide-xs hide-sm text-small icon-ml">NEXT</span></a></li><li class=post-action><a class="post-action-btn btn btn--default tooltip--top" href=/2020/09/22/Recover-database-encrypted-modules-code-with-dbatools/ data-tooltip="Recover database encrypted modules code with dbatools" aria-label="PREVIOUS: Recover database encrypted modules code with dbatools"><span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
<i class="fa fa-angle-right"></i></a></li></ul></nav><ul class="post-actions post-action-share"><li class="post-action hide-lg hide-md hide-sm"><a class="post-action-btn btn btn--default btn-open-shareoptions" href=#btn-open-shareoptions aria-label="Share this post"><i class="fa fa-share-alt" aria-hidden=true></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target=new href="https://www.facebook.com/sharer/sharer.php?u=https://claudioessilva.eu/2021/12/29/A-big-SQLPackage-caveat/" title="Share on Facebook" aria-label="Share on Facebook"><i class="fab fa-facebook-square" aria-hidden=true></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target=new href="https://twitter.com/intent/tweet?text=https://claudioessilva.eu/2021/12/29/A-big-SQLPackage-caveat/" title="Share on Twitter" aria-label="Share on Twitter"><i class="fab fa-twitter" aria-hidden=true></i></a></li><li class="post-action hide-xs"><a class="post-action-btn btn btn--default" target=new href="https://www.linkedin.com/sharing/share-offsite/?url=https://claudioessilva.eu/2021/12/29/A-big-SQLPackage-caveat/" title="Share on Linkedin" aria-label="Share on Linkedin"><i class="fab fa-linkedin" aria-hidden=true></i></a></li><li class=post-action><a class="post-action-btn btn btn--default" href=#top aria-label="Back to top"><i class="fa fa-arrow-up" aria-hidden=true></i></a></li></ul></div></div><div id=share-options-bar class=share-options-bar data-behavior=4><i id=btn-close-shareoptions class="fa fa-times"></i><ul class=share-options><li class=share-option><a class=share-option-btn target=new href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fclaudioessilva.eu%2F2021%2F12%2F29%2FA-big-SQLPackage-caveat%2F" aria-label="Share on Facebook"><i class="fab fa-facebook-square" aria-hidden=true></i><span>Share on Facebook</span></a></li><li class=share-option><a class=share-option-btn target=new href="https://twitter.com/intent/tweet?text=https%3A%2F%2Fclaudioessilva.eu%2F2021%2F12%2F29%2FA-big-SQLPackage-caveat%2F" aria-label="Share on Twitter"><i class="fab fa-twitter" aria-hidden=true></i><span>Share on Twitter</span></a></li><li class=share-option><a class=share-option-btn target=new href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fclaudioessilva.eu%2F2021%2F12%2F29%2FA-big-SQLPackage-caveat%2F" aria-label="Share on Linkedin"><i class="fab fa-linkedin" aria-hidden=true></i><span>Share on Linkedin</span></a></li></ul></div><div id=share-options-mask class=share-options-mask></div></div><div id=about><div id=about-card><div id=about-btn-close><i class="fa fa-times"></i></div><img id=about-card-picture src=https://claudioessilva.eu/img/avatar.jpg alt="Author's picture"><h4 id=about-card-name>Cláudio Silva</h4><div id=about-card-bio>Data Platform Architect and PowerShell lover.</div><div id=about-card-job><i class="fa fa-briefcase"></i><br>Data Platform Architect</div><div id=about-card-location><i class="fa fa-map-marker-alt"></i><br>Portugal</div></div></div><div id=cover style=background-image:url(https://claudioessilva.eu/images/cover_bridge.jpg)></div><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/highlight.min.js integrity="sha512-z+/WWfyD5tccCukM4VvONpEtLmbAm5LDu7eKiyMQJ9m7OfPEDL7gENyDRL3Yfe8XAuGsS2fS4xSMnl6d30kqGQ==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js integrity="sha512-uURl+ZXMBrF4AwGaWmEetzrd+J5/8NRkWAvJx5sbPSSuOb0bZLqf+tOzniObO00BjHa/dD7gub9oCGMLPQHtQA==" crossorigin=anonymous referrerpolicy=no-referrer></script>
<script src=https://claudioessilva.eu/js/script-yqzy9wdlzix4lbbwdnzvwx3egsne77earqmn73v9uno8aupuph8wfguccut.min.js></script>
<script>$(document).ready(function(){hljs.configure({classPrefix:"",useBR:!1}),$("pre.code-highlight > code, pre > code").each(function(e,t){$(this).hasClass("codeblock")||$(this).addClass("codeblock"),hljs.highlightBlock(t)})})</script></body></html>